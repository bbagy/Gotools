% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Go_Maaslin2.R
\name{Go_Maaslin2}
\alias{Go_Maaslin2}
\title{Go_Maaslin2}
\usage{
Go_Maaslin2(
  psIN,
  project,
  fixed_effects,
  random_effects = NULL,
  normalization = "TSS",
  transform = TRUE,
  orders = NULL,
  out_dir = NULL,
  name = NULL
)
}
\arguments{
\item{psIN}{A \code{phyloseq} object with OTU/ASV table and sample metadata.}

\item{project}{Character. Project prefix for dated output folders/files
(e.g., \code{"MyProj"} → \code{"MyProj_250818/"}).}

\item{fixed_effects}{Character vector of metadata column names used as fixed effects.}

\item{random_effects}{Optional character vector of metadata column names used
as random effects (not all analyses require this). Default \code{NULL}.}

\item{normalization}{Character scalar passed to MaAsLin2. One of
\code{"TSS"}, \code{"CLR"}, \code{"CSS"}, \code{"NONE"}. Default \code{"TSS"}.}

\item{transform}{Logical. If \code{TRUE} and the input looks like relative
abundance, multiply by median library size and round to integers before
running MaAsLin2. Default \code{TRUE}.}

\item{orders}{Optional named list of factor orders for metadata variables.
Names should match columns in sample metadata; values are character vectors
giving the desired levels (e.g., \code{list(Timepoint = c("Pre","Post"))}).}

\item{out_dir}{Optional output directory to write MaAsLin2 results. If \code{NULL},
a dated project path is created (e.g., \code{<project_YYMMDD>/table/MaAsLin2/MaAsLin2.<name>}).}

\item{name}{Optional character suffix to distinguish runs (e.g., \code{"AdjBMI"}).}
}
\value{
(Invisibly) the \code{Maaslin2} result object (list). Side effect:
writes tables/plots to \code{out_dir}.
}
\description{
Wrapper around \code{Maaslin2::Maaslin2()} for differential abundance analysis
from a \code{phyloseq} object. Handles output foldering/naming, optional
relative→integer conversion, factor level ordering, and passes fixed/random
effects to MaAsLin2.
}
\details{
\strong{Relative→integer transform:} The helper detects relative abundance
heuristically by the mean of \code{sample_sums(psIN)} (≈100 implies relative).
If detected and \code{transform=TRUE}, counts are reconstructed by multiplying
the feature table by the median library size and rounding. Set \code{transform=FALSE}
to skip this step.

\strong{Ordering factors:} If \code{orders} is supplied, matching metadata
columns are refactored to the provided level order (levels not present are ignored).

Outputs are written under a dated project directory; MaAsLin2’s heatmap and
scatter plots are enabled by default.
}
\examples{
\dontrun{
# Suppose ps is a phyloseq object with metadata columns Group and Subject
res <- Go_Maaslin2(
  psIN = ps,
  project = "IBD",
  fixed_effects = c("Group"),
  random_effects = c("Subject"),
  normalization = "TSS",
  transform = TRUE,
  orders = list(Group = c("Control","Case")),
  name = "BaseModel"
)
}

}
\seealso{
\code{\link[Maaslin2]{Maaslin2}}
}
